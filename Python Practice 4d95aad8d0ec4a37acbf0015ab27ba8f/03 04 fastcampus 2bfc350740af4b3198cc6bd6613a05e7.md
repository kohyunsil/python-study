# 03/04 fastcampus

file input output

- file : write, read, delete
- pickle : ê°ì²´ë¥¼ ramì—ì„œ í•˜ë“œë””ìŠ¤í¬ë¡œ ì €ì¥í•˜ê±°ë‚˜ ê°€ì ¸ì˜¤ëŠ” íŒŒì´ì¬ ëª¨ë“ˆ
- os : íŒŒì´ì¬ ì½”ë“œë¡œ íŒŒì¼ì‹œìŠ¤í…œ ë‹¤ë£¨ê¸°
- ê¸°ì‚¬ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ ëª¨ë¸ì„ ì´ìš©í•˜ì—¬ ê¸°ì‚¬ íŒŒì¼ì„ ì¹´í…Œê³ ë¦¬ ë³„ë¡œ ë””ë ‰í† ë¦¬ë¥¼ ë‚˜ëˆ ì„œ ì €ì¥

### ğŸ¥‘ FILE

```python
!mkdir file

### í…ìŠ¤íŠ¸ íŒŒì¼ì“°ê¸°
data = """python Jupyter notebook
datascience school"""  # ram(ë©”ëª¨ë¦¬)ì— ì €ì¥ë˜ì–´ìˆìŒ
print(data)
len(data)

file = open("file/test1.txt", "wt")
file.write(data)   # data ë³€ìˆ˜ì— ìˆëŠ” ë¬¸ìì—´ ë°ì´í„°ê°€ file ê²½ë¡œì— ì—°ê²°ë¨

file.close() # ì—´ë ¤ìˆëŠ” íŒŒì¼ ë‹«ê¸°

%ls file

!cat file/test1.txt

### í…ìŠ¤íŠ¸ íŒŒì¼ì½ê¸°
file = open("file/test1.txt", "rt")
load_data = file.read()
file.close()
print(load_data)

# ë°”ì´ë„ˆë¦¬ íŒŒì¼ ì €ì¥í•˜ê¸°
# ì§ë ¬í™” : RAM(ì €ì¥íƒ€ì…) != HD(ì €ì¥íƒ€ì…) <- ì´ê¸°ë•Œë¬¸ì— : bytes(obj) ë³€í™˜
data = bytes(range(5, 10))
data

file = open("file/range.bin","wb")
file.write(data)
file.close()

%ls file

# ë°”ì´ë„ˆë¦¬ íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸°
file = open("file/range.bin","rb")
load_data = file.read()
file.close()
print(list(load_data))

#### with
with open("file/range.bin","rb") as file:
    load_data = file.read()
print(list(load_data))
```

### PICKLE

- íŒŒì´ì¬ì—ì„œ ê°ì²´ë¥¼ RAMì—ì„œ HDë¡œ ì €ì¥í•˜ê³  ê°€ì ¸ì˜¤ê¸° ìœ„í•´ ë§Œë“¤ì–´ì§„ ëª¨ë“ˆ
- input, outputì˜ ì†ë„ê°€ ë¹ ë¥´ë‹¤.

```python
class Echo:
    def __init__(self, data):
        self.data = data
    def disp(self):
        print(self.data)

obj = Echo("pickle test")
obj.disp()

import pickle

#ê°ì²´ ì €ì¥í•˜ê¸°
with open("file/obj.pkl", "wb") as file:
    pickle.dump(obj, file)

%ls file

with open("file/obj.pkl", "rb") as file:
		load_obj = pickle.load(file)	

load_obj.disp()
```

os

- íŒŒì´ì¬ ì½”ë“œë¡œ íŒŒì¼ì‹œìŠ¤í…œì„ ë‹¤ë£° ìˆ˜ ìˆëŠ” íŒ¨í‚¤ì§€
- ë””ë ‰í† ë¦¬ ë§Œë“¤ê¸°, íŒŒì¼ ì‚­ì œí•˜ê¸°, ë””ë ‰í† ë¦¬ ë° ë””ë ‰í† ë¦¬ ë‚´ì˜ íŒŒì¼ ì‚­ì œí•˜ê¸°
- ë³µì‚¬í•˜ê¸°, íŒŒì¼ì´ë¦„ ë³€ê²½, ê¶Œí•œì„¤ì •

```python
import os

# ë””ë ‰í† ë¦¬ ë§Œë“¤ê¸°
os.makedirs("os")
%ls

# ë””ë ‰í† ë¦¬ë‚´ì˜ íŒŒì¼ ë¦¬ìŠ¤íŠ¸ ì½ê¸°
os.listdir("file")

```

ì˜¤ë²„ë¼ì´ë”© (Overriding, overwrite)

```python
# Orc : health, attack_pow, defence
# ì˜¤ë²„ë¼ì´ë”©(overriding, overwrite)
# ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë³€ìˆ˜(ë©”ì„œë“œ)ë¥¼ ë‹¤ì‹œ ì„ ì–¸í•´ì£¼ë©´ ë³€ìˆ˜(ë©”ì„œë“œ)ê°€ ì¬ì„ ì–¸
class Human(Orc):
    health, attack_pow, defence = 40, 10, 5
    def steam_pack(self):
        self.attack_pow *= 2
        
# Human : health, attack_pow, defence ìƒì†
class HumanOrcWizard(Human, Orc):
    
    def __init__(self):
        self.spec()
    
    def spec(self):
        self.attack_pow += 10
        
howi = HumanOrcWizard()
howi.health, howi.attack_pow, howi.defence
```

ì •ê·œí‘œí˜„ì‹ :  regex

- ë¬¸ìì—´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í• ë•Œ íŠ¹ì •í•œ íŒ¨í„´ìœ¼ë¡œ ë¬¸ìì—´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•
- ì •ê·œí‘œí˜„ì‹ í•¨ìˆ˜
    - findall : íŒ¨í„´ì— ë§ëŠ” ë¬¸ìì—´ì„ ì°¾ëŠ” í•¨ìˆ˜
    - sub : íŒ¨í„´ì— ë§ëŠ” ë¬¸ìì—´ì„ ì°¾ì•„ì„œ íŠ¹ì • ë¬¸ìì—´ë¡œ ì¹˜í™˜
- pattern
    - ë¬¸ì íŒ¨í„´
    - ì§€ì •ì íŒ¨í„´(ì¤‘ìš”!)
- ì˜ˆì‹œ
    - ì´ë©”ì¼ ì£¼ì†Œ ì°¾ì•„ë‚´ê¸°
    - ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ì°¾ì•„ì„œ ì¹˜í™˜í•˜ê¸°
    - ì¤‘ê³ ë‚˜ë¼ ì „í™”ë²ˆí˜¸

```python
import re

# 1. ì •ê·œí‘œí˜„ì‹ í•¨ìˆ˜

data = "fast campus jupyter notebook notecamp python"

# findall
re.findall("note[a-z]{4}",data)
# sub
re.sub("note[a-z]{4}", "macbook", data)
# sub (grooping)
re.sub("note([a-z]{4})", "\g<1>note", data)

# 2. ë¬¸ìíŒ¨í„´
    # \d : ìˆ«ì, \D : ë¹„ìˆ«ì

import string

data = string.printable
len(data), data

result = re.findall("\d", data)
result, "".join(result)

result = re.findall("\D", data)
"".join(result)

# \w : ìˆ«ì,ë¬¸ì,_   , \W : ìˆ«ì,ë¬¸ì,_ ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€

result = re.findall("\w", data)
"".join(result)
result = re.findall("\W", data)
"".join(result)

# \s : ê³µë°±ë¬¸ì, \S : ë¹„ê³µë°±ë¬¸ì
result = re.findall("\s", data)
"".join(result)
result = re.findall("\S", data)
"".join(result)

# 3. ì§€ì •ì ** 

data = "fastcampus"
# [] : ë¬¸ì í•˜ë‚˜
re.findall("fast", data)
re.findall("[fast]", data)

# - : ë²”ìœ„
data = string.printable
data

re.findall("[0-2a-dx-zA-E]", data)

# . : ì•„ë¬´ ë¬¸ì í•˜ë‚˜
data1, data2, data3= "abc", "ac", "a c"
re.findall("a.c", data1), re.findall("a.c", data2), re.findall("a.c", data3)

data4 = "a.c abc"
re.findall("a\.c", data4), re.findall("a[.]c", data4)

# ? : ? ì•ì— ìˆëŠ” íŒ¨í„´ì„ 0 ë˜ëŠ” 1íšŒ ë°˜ë³µ
data1, data2, data3= "abc", "ac", "addc"
re.findall("a.?c", data1), re.findall("a.?c", data2), re.findall("a.?c", data3)

# * : 0íšŒ ì´ìƒ ë°˜ë³µ
data1, data2, data3= "abc", "ac", "addc"
re.findall("a.*c", data1), re.findall("a.*c", data2), re.findall("a.*c", data3)

# + : 1íšŒ ì´ìƒ ë°˜ë³µ
data1, data2, data3= "abc", "ac", "addc"
re.findall("a.+c", data1), re.findall("a.+c", data2), re.findall("a.+c", data3)

# {n} : níšŒ ë°˜ë³µ
# {n,m} : n ~ m íšŒ ë°˜ë³µ
data = "abbc abbbbc addddddc"
re.findall("a.{2}c", data), re.findall("a.{1,4}c", data), re.findall("a.{3,7}c", data)

# () : ê·¸ë£¹í•‘
# íŒ¨í„´ìœ¼ë¡œ ë¬¸ìì—´ì„ ì°¾ëŠ”ë° () ì•ˆì— ìˆëŠ” ë¬¸ìì—´ë§Œ ì¶œë ¥
data = "ì €ì˜ ì „í™”ë²ˆí˜¸ëŠ” 010-1111-2222 ë‚˜ 011-222-4444 ì…ë‹ˆë‹¤."
re.findall("[0-9]{3}[-]?[0-9]{3,4}[-]?[0-9]{4}", data)

re.findall("([0-9]{3})[-]?[0-9]{3,4}[-]?[0-9]{4}", data) #  ê´„í˜¸ë„£ê¸°

re.findall("([0-9]{3})[-]?([0-9]{3,4})[-]?([0-9]{4})", data) # ê´„í˜¸ë¡œ ì—¬ëŸ¬ê°œ ë¬¶ìœ¼ë©´ íŠœí”Œí˜•íƒœë¡œ ì¶œë ¥

# example - ì´ë©”ì¼ ì£¼ì†Œ ì°¾ê¸°
data = "ì €ì˜ ì´ë©”ì¼ ì£¼ì†ŒëŠ” fast.campus@fc.com ì´ê³  data@naver.co.kr ì…ë‹ˆë‹¤."
pt = "[0-9a-zA-Z.]+@[a-z]+[a-z.]+"
re.findall(pt, data)

# ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ë¥¼ ì°¾ì•„ì„œ ì¹˜í™˜í•˜ê¸°
data = "ì €ì˜ ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ëŠ” 761231-1098913 ê³¼ 7612111098013 ì…ë‹ˆë‹¤. ì–¸ì œë‚˜ ì‚¬ìš©í•˜ì„¸ìš”!!!"
pt = "([0-9]{2}[01][0-9][0-3][0-9])-?([1-4][0-9]{6})"
re.findall(pt,data)
re.sub(pt, "\g<1>-*******", data) #ì•ìª½ ê·¸ë£¹í•‘ ë°ì´í„°
re.sub(pt, "******-\g<2>", data)  #ë’¤ìª½ ê·¸ë£¹í•‘ ë°ì´í„°

# ì „í™”ë²ˆí˜¸ íŒ¨í„´ì°¾ê¸°
data = "ì•ˆë…•í•˜ì„¸ìš” í”ŒìŠ¤4 20000ì›ì— ê¸‰ì²˜í•©ë‹ˆë‹¤. ì„ ì°©ìˆœ ì—°ë½ì£¼ì„¸ìš”!! ì „í™”ë²ˆí˜¸ëŠ” 01O-ì‚¬êµ¬ë¹µë¹µêµ¬79ì‚¼ê³¼ ì˜ì¼ì˜ì‚¼312ê³µêµ¬00 ì¤‘ì— ì—°ë½ì£¼ì„¸ìš”!!"
pt = "[0-9ì˜ê³µë¹µì¼ì´ì‚¼ì‚¬ì˜¤ìœ¡ì¹ íŒ”êµ¬OoliI]{3}[-]?[0-9ì˜ê³µë¹µì¼ì´ì‚¼ì‚¬ì˜¤ìœ¡ì¹ íŒ”êµ¬OoliI]{3,4}[-]?[0-9ì˜ê³µë¹µì¼ì´ì‚¼ì‚¬ì˜¤ìœ¡ì¹ íŒ”êµ¬OoliI]{4}"
numbers = re.findall(pt, data)
numbers
# ì°¾ì€ ì „í™”ë²ˆí˜¸ë¥¼ ìˆ«ìë¡œ ë³€ê²½
change_number = {
    "ì˜": 0, "ê³µ": 0, "ë¹µ": 0, "ì¼": 1, "ì´": 2, "ì‚¼": 3, "ì‚¬": 4, "ì˜¤": 5,
    "ìœ¡": 6, "ì¹ ": 7, "íŒ”": 8, "êµ¬": 9, "O": 0, "o": 0, "l": 1, "i": 1,
}

result = []

for number in numbers:
    print(number) #010-ì‚¬êµ¬ë¹µë¹µêµ¬79ì‚¼
    for key, value in change_number.items():
        number = number.replace(key, str(value))
    result.append(number.replace("-",""))

result
```